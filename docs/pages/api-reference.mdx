---

title: API Reference
description: The API reference for the @ibnlanre/builder package.

---

# API Reference

The `@ibnlanre/builder` package exports a set of functions and types for creating and manipulating the `builder` object. This page documents the public API of the package.

## Functions

### `createBuilder`

The [createBuilder][2] function is used to create a `builder` object from a [register][1]. The function takes two arguments: a [register][1] object and an optional array of prefixes. The function returns a `builder` object.

#### Signature

```typescript
function createBuilder<T extends Record<string, any>>(
  register: T,
  prefixes?: string[]
): Builder<T>;
```

#### Parameters

- `register` - The [register][1] object to create the `builder` object from.
- `prefixes` - An optional array of prefixes to associate with the `builder` object.

#### Returns

A `builder` object.

#### Example

```typescript
const builder = createBuilder({
  location: (id: number) => `/location/${id}`,
  address: {
    country: 'Nigeria',
  },
}, ["root", "node"]);
```

### `typeValue`

The `typeValue` function is used to assign additional type information to members of a [register][1]. The function takes a [register][1] object and returns a function that can be used to assign type information to the members of the [register][1].

#### Signature

```typescript
function typeValue<Register extends Dictionary>(register: Register): AssignType<Register>;
```

#### Parameters

- `register` - The [register][1] object to assign type information to.

#### Returns

A function that can be used to assign type information to the members of the [register][1].

#### Example

```typescript
const builder = createBuilder({
  foo: {
    baz: typeValue({
      hello: "world",
    })<{
      hi: string;
    }>(),
  },
});
```

## Types

### `Builder`

The `Builder` type represents the `builder` object created by the [createBuilder][2] function.

#### Signature

```typescript
type Builder<T extends Record<string, any>> = {
  use: () => T;
  get: () => string[];
} & T;
```

### `KeyBuilder`

The `KeyBuilder` type represents the structure of the `builder` object created by the [createBuilder][2] function. The type is a recursive structure that mirrors the structure of the [register][1] object.

#### Signature

```typescript
type KeyBuilder<
  Register extends Dictionary,
  Prefix extends readonly string[] = []
> = {
  [Field in RequiredKeys<Register>]: Register[Field] extends (
    ...args: infer Arguments
  ) => unknown
    ? {
        get: <Variables extends any[]>(
          ...args: Variables
        ) => [...Prefix, Extract<Field, string>, ...Variables];
        use: (
          ...args: Parameters<Register[Field]>
        ) => [...Prefix, Extract<Field, string>, ...Arguments];
      }
    : Register[Field] extends Dictionary
    ? Key<Field, Prefix> &
        KeyBuilder<Register[Field], [...Prefix, Extract<Field, string>]>
    : Key<Field, Prefix>;
};
```

### `Key`

The `Key` type represents a single key in the `builder` object created by the [createBuilder][2] function.

#### Signature

```typescript
type Key<Field, Prefix extends readonly string[] = []> = {
  get: <Y extends any[]>(...args: Y) => [...Prefix, Field, ...Y];
  use: () => [...Prefix, Field];
};
```

### `HasTypes`

The `HasTypes` type represents a [register][1] object with additional type information assigned to its members.

#### Signature

```typescript
type HasTypes<
  Register extends Dictionary,
  Types extends Dictionary,
  Key extends string = "has"
> = {
  [Field in keyof Register]: Register[Field] extends Dictionary
    ? HasTypes<Register[Field], Types, Key>
    : Register[Field] extends (...args: any[]) => any
    ? Register[Field] & Types
    : Register[Field];
};
```

### `RegisterBuilder`

The `RegisterBuilder` type represents the nested nodes of the `builder` object created by the [createBuilder][2] function. 

#### Signature

```typescript
type RegisterBuilder<
  Register extends Dictionary,
  Prefix extends string[] = []
> = {
  use: () => OmitOptionalValues<Register>;
  get: () => Prefix;
} & KeyBuilder<Register, Prefix>;
```

[1]: /getting-started
[2]: /core-concepts/create-builder
[3]: /core-concepts/builder-object
[4]: /core-concepts
